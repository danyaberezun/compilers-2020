-- States: partial maps from variables into values

-- Empty state (undefined everywhere)
public fun emptyState (x) {
<<<<<<< HEAD
  failure ("undefined variable ""%s""\n", x)
=======
  0
  --failure ("undefined variable ""%s""\n", x)
>>>>>>> e882db85f3362146ffd6b8c65badb180495f82b9
}

-- Putting a binding into a state
public infix <- before : (st, [x, v]) {
  fun (y) {
    if compare (x, y) == 0 then v else st (y) fi
  }
}
